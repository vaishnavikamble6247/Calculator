body {
     margin: 0;
     overflow: hidden;
     font-family: 'Poppins', sans-serif;
     touch-action: pan-y pinch-zoom;
     /* allow touch scrolling, but prevent pull-to-refresh issues */
 }

 /* 3D Canvas Background */
 #canvas-container {
     position: fixed;
     top: 0;
     left: 0;
     width: 100%;
     height: 100%;
     z-index: 1;
 }

 /* Main Content - Calculator Card */
 .calculator-wrapper {
     position: relative;
     z-index: 10;
     display: flex;
     justify-content: center;
     align-items: center;
     min-height: 100vh;
     padding: 16px;
     box-sizing: border-box;
     pointer-events: none;
     /* allow clicks to pass through wrapper, but calculator inside needs events */
 }

 .calculator-card {
     pointer-events: auto;
     width: 100%;
     max-width: 380px;
     background: rgba(255, 255, 255, 0.1);
     backdrop-filter: blur(12px);
     -webkit-backdrop-filter: blur(12px);
     border-radius: 40px;
     padding: 24px 20px;
     box-shadow: 0 30px 50px rgba(0, 0, 0, 0.5), 0 0 0 2px rgba(255, 255, 255, 0.2) inset;
     border: 1px solid rgba(255, 255, 255, 0.3);
     transform-style: preserve-3d;
     transition: transform 0.3s ease;
     animation: float 6s infinite ease-in-out;
 }

 @keyframes float {
     0% {
         transform: translateY(0px) rotateX(2deg) rotateY(1deg);
     }

     50% {
         transform: translateY(-12px) rotateX(0deg) rotateY(2deg);
     }

     100% {
         transform: translateY(0px) rotateX(2deg) rotateY(1deg);
     }
 }

 /* Display */
 .display {
     background: rgba(0, 0, 0, 0.6);
     border-radius: 24px;
     padding: 20px 16px;
     margin-bottom: 24px;
     text-align: right;
     box-shadow: 0 8px 0 rgba(0, 0, 0, 0.3), inset 0 2px 5px rgba(255, 255, 255, 0.2);
     border: 1px solid rgba(255, 215, 0, 0.5);
 }

 .previous-operand {
     color: rgba(255, 255, 255, 0.7);
     font-size: 1.2rem;
     min-height: 28px;
     letter-spacing: 1px;
     word-wrap: break-word;
 }

 .current-operand {
     color: gold;
     font-size: 3rem;
     font-weight: 600;
     line-height: 1.2;
     word-wrap: break-word;
     text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
 }

 /* Buttons Grid */
 .buttons-grid {
     display: grid;
     grid-template-columns: repeat(4, 1fr);
     gap: 12px;
 }

 .btn {
     background: rgba(30, 30, 40, 0.7);
     backdrop-filter: blur(5px);
     border: none;
     border-radius: 20px;
     padding: 18px 8px;
     font-size: 1.7rem;
     font-weight: 500;
     color: white;
     cursor: pointer;
     box-shadow: 0 7px 0 #1a1a2a, 0 4px 15px rgba(0, 0, 0, 0.6);
     transition: all 0.08s ease;
     display: flex;
     align-items: center;
     justify-content: center;
     font-family: 'Poppins', sans-serif;
     border: 1px solid rgba(255, 255, 255, 0.1);
     text-shadow: 0 2px 2px black;
 }

 .btn:active {
     transform: translateY(5px);
     box-shadow: 0 2px 0 #1a1a2a, 0 4px 12px rgba(0, 0, 0, 0.4);
 }

 .btn.operator {
     background: rgba(255, 140, 0, 0.85);
     color: white;
     box-shadow: 0 7px 0 #b45f06, 0 4px 15px rgba(255, 140, 0, 0.4);
     border-color: rgba(255, 215, 0, 0.5);
 }

 .btn.operator:active {
     transform: translateY(5px);
     box-shadow: 0 2px 0 #b45f06;
 }

 .btn.equals {
     background: gold;
     color: black;
     font-size: 2rem;
     box-shadow: 0 7px 0 #b8860b, 0 4px 20px gold;
     border-color: rgba(255, 255, 255, 0.7);
     text-shadow: none;
 }

 .btn.equals:active {
     transform: translateY(5px);
     box-shadow: 0 2px 0 #b8860b;
 }

 .btn.span-two {
     grid-column: span 2;
 }

 .btn i {
     font-size: 1.6rem;
     color: inherit;
 }

 /* Responsive fine-tuning */
 @media (max-width: 450px) {
     .calculator-card {
         max-width: 340px;
         padding: 20px 16px;
     }

     .btn {
         padding: 16px 5px;
         font-size: 1.5rem;
     }

     .current-operand {
         font-size: 2.5rem;
     }
 }

 @media (max-width: 350px) {
     .calculator-card {
         max-width: 300px;
         padding: 16px 12px;
     }

     .btn {
         padding: 14px 3px;
         font-size: 1.3rem;
     }

     .buttons-grid {
         gap: 8px;
     }
 }

 /* Small hint/credit */
 .credit {
     position: absolute;
     bottom: 12px;
     right: 20px;
     color: rgba(255, 255, 255, 0.35);
     font-size: 0.8rem;
     z-index: 20;
     pointer-events: none;
     backdrop-filter: blur(2px);
     padding: 4px 12px;
     border-radius: 40px;
     background: rgba(0, 0, 0, 0.2);
 }
